Challenge 5 – De spookstudent (denkversie)
Situatie (mondeling of op papier voorgeschoteld):

Een docent bekijkt via Mentor het overzicht van studenten die ingeschreven zijn op een bepaalde training (TrainingTrack). Alles lijkt normaal — de lijst laadt snel, toont namen, en er zijn geen fouten.

Maar een dag later stuurt de docent een mail:

"Hoi, er staan studenten op het overzicht die zich allang hebben uitgeschreven. Ze horen hier niet meer tussen te staan."

De developer bekijkt de template en ziet niets bijzonders. Hij opent ook de view:

python
Kopiëren
context["students"] = track.subscriptions.all().values_list("student", flat=True)
💬 Vraag aan de deelnemer (denk-opdracht):
❓ Wat zou er aan de hand kunnen zijn, zelfs als deze code geen fouten gooit, alle velden correct bestaan, en alle studenten goed opgeslagen zijn?

🔎 Hintkaart (optioneel):
Let op: subscriptions.all() toont alle historische relaties

Wat als uitschrijvingen niet leiden tot verwijderen, maar tot een wijziging van status?

Zit er een veld in het model dat bepaalt of een inschrijving nog actief is?

✅ Verwachte inzicht:
De fout zit niet in de syntax, maar in verkeerde aanname over wat “ingeschreven” betekent:

subscriptions.all() toont ook uitgeschreven studenten

De view toont dus niet alleen actuele, maar ook historische deelnemers

Je moet expliciet filteren op subscribed=True om alleen actuele studenten te tonen

Wil je ook een extra twist toevoegen zoals: “Stel dat er ooit dubbele inschrijvingen waren”? Dan bouwen we de denklaag verder uit.